<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <link rel="stylesheet" href="login.css">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> -->
</head>

<body>
    <div class="main-div">
        <div class="img-div">
            <img src="image-removebg-preview.png" alt="">
        </div>
        <div class="second-div">
            <h3 class="h3-signup" style="text-align: center; margin-top: 70px; font-weight: 800;">Login</h3>
            <h3 class="h3-signup" style="text-align: center;  font-weight: 800;">Welcome back!</h3>
            <input placeholder="Enter Your Email" type="email" name="" id="email">
            <input placeholder="Enter Your Password" type="password" name="" id="password">
            <button onclick="check()">Login
                <div id="loading" style="display:none; margin-left: 10px;">Loading...</div>
            </button>
            <p class="h3-signup" style="text-align: center;">Don't have an account? <a style="text-decoration: none;"
                    href="Signup.html">Signup</a></p>
            <div id="message" style="text-align: center; margin-top: 20px;"></div>

        </div>

    </div>
</body>

</html>
<script>
    const firebaseConfig = {
        apiKey: "AIzaSyD3NepjPiw4J6oK6PuShK1Smbxdy0LsOcM",
        authDomain: "level2-project-8e0a8.firebaseapp.com",
        projectId: "level2-project-8e0a8",
        storageBucket: "level2-project-8e0a8.appspot.com",
        messagingSenderId: "627012890577",
        appId: "1:627012890577:web:04178a719788ae64f77af0"
    };

    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    var provider = new firebase.auth.GoogleAuthProvider();

</script>
<script>
    function check() {
      if ( !email.value || !password.value) {
    document.getElementById('message').innerHTML = '<span style="color: red;">All fields are required!</span>';
    return;
  }
  // Show the loading indicator
  document.getElementById('loading').style.display = 'inline';
  document.getElementById('message').innerHTML = ''; // Clear previous messages

  firebase.auth().signInWithEmailAndPassword(email.value, password.value)
    .then((userCredential) => {
      // Signed in
      document.getElementById('message').innerHTML = '<span style="color: green;">Login Successful!</span>';
      // Redirect after a short delay
      setTimeout(() => {
        window.location.href = 'dashbd.html'; // Replace with your dashboard or desired page
      }, 2000); // 2-second delay
    })
    .catch((error) => {
      var errorMessage = error.message;
      document.getElementById('message').innerHTML = `<span style="color: red;">Error: ${errorMessage}</span>`;
      console.log(errorMessage);
    })
    .finally(() => {
      // Hide the loading indicator
      document.getElementById('loading').style.display = 'none';
    });
}

</script>